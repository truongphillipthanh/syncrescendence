---
id: [[CANON-25500]]
name: Architecture Rationale
tier: lattice
celestial_type: planetary
volatility_band: stable
sn_version: 2.0
original_words: 4326
original_lines: 478
compressed_words: 1089
compression_ratio: 3.97
dropped:
  - historical elaboration (Oracle sessions 0-21 detail)
  - rhetorical prose and transitional paragraphs
  - example code snippets and directory tree ASCII art
  - extended narrative about INT-2210 debugging
  - detailed table formatting (preserved data, dropped markup)
---

# Κ-25500: Architecture Rationale (SN)

PROC Canon25500ArchitectureRationaleComplete:
    sutra: "Complete reconstruction guide: rationale, memory architecture, antifragile scaffold, execution phases, rebuild procedures."
    gloss:
        CANON document capturing architecture WHY (not just WHAT) via 22 Council sessions + 3 triangulated sensing passes + 1 critical revert (INT-2210).
        Authority: Sovereign + Commander / Council 22.
        Epistemic status: First-hand reconstruction from INT-2210 failure analysis.
        Purpose: Rebuild entire constellation from zero if all other files are lost.
end

PROC HowWeArrivedHere:
    sutra: "Lineage from organic sprawl (Feb 1) through KAIZEN lock (Feb 22) to revert (Feb 23)."
    gloss:
        Starting state (Feb 1): 19 KB monolithic CLAUDE.md, 363+ hard-coded ~/Desktop paths, duplicated AGENTS.md, parallel OpenClaw personality universe in ~/.openclaw/, fragmented inboxes, thread-dependent state, silent Google Drive symlink failures, manual triage.
        Five Invariants (principles, pre-filesystem): Objective Lock, Translation Layer, Receipts/Closure Gate, Continuation/Deletability, Repo Sovereignty.
        Evolution: Oracles 0-21 established numbering scheme (orchestration/canon/engine/sources/praxis), ARCH/DYN/REF taxonomy, constitutional rules. Oracle 17: 267-file corpus analysis (File-first 74.0% vs VectorDB 68.5%). Oracle 21: Dual-stream + antifragile scripts.
        KAIZEN lock (Feb 22): Single-source AGENTS.md → thin platform extensions → `make configs` concat → dynamic git-based paths → 5 agent offices (INIT.md contracts) → auto_ingest_loop.sh + launchd → weekly-eval.sh.
        INT-2210 catastrophe: Commander ran scaffold_rename.sh BEFORE scaffold_validate.sh existed. No validation, no rollback test, no phase gating. Demolished 6 commits.
        Revert (Feb 23, Council 22): `git reset --hard d33aaf13`. Teaches INT-P029: "Never triage without validation infrastructure."
end

PASS PartIThe22day:
    sutra: "Feb 1 baseline → Oracle evolution → KAIZEN lock → INT-2210 catastrophe → revert."
    gloss:
        Feb 1: Fragmented state — monolithic CLAUDE.md, hard-coded paths, no agent offices, thread-dependent knowledge.
        Oracles 0-21: Infrastructure (numbered dirs + taxonomy), blitzkrieg execution (90.2% multi-agent > single), constellation (5 platforms), corpus intelligence (267 files, 74% file-first retrieval), autonomy expansion (18 intentions, token economics, dual-machine paradigm).
        Feb 22 KAIZEN: Config architecture locked. Single-source AGENTS.md + thin extensions + Makefile concat. Dynamic path resolution (git rev-parse). Numbered directories + semantic names. Flat principle (prefixes over subdirs). Agent offices with per-role kanban. Neural Bridge (SSH MBA↔Mac mini). Auto-ingest sole dispatch (30s polls, deterministic file lifecycle).
        Feb 22 INT-2210: Scaffold triage → unauthorized redesign. Deleted IMPLEMENTATION-MAP.md (2,294 lines). Dissolved dash-prefix dirs. Renamed all numbered dirs. No validation infrastructure. Cascade failure: 6 commits demolished.
        Feb 23 revert: INT-P029 codified. Validation MUST exist before structural changes.
end

PASS 11TheStartingPoint:
    sutra: "Pre-architecture state: 19 KB monolithic CLAUDE.md, 363 hard-coded paths, no agent offices."
    gloss:
        State Feb 1: CLAUDE.md conflating five files' work. AGENTS.md duplicated cross-platform. OpenClaw personality (SOUL.md, HEARTBEAT.md, USER.md, MEMORY.md) in ~/.openclaw/, disconnected from repo. Hard-coded ~/Desktop/ paths (363 instances) broke on migration. Fragmented inboxes, no agent office structure. Thread-dependent knowledge loss on conversation deletion. Google Drive symlink rot causing silent failures. Manual triage per session.
        Five Invariants existed as principles only, not enforced by filesystem.
end

PASS 12TheEvolutionThrough:
    sutra: "Oracles 0-21 built infrastructure, proven multi-agent outperformance, extracted corpus consensus."
    gloss:
        Oracle 0-9: Numbered directory scheme, ARCH/DYN/REF taxonomy, constitutional rules. Oracle 10-11: Multi-CLI validation (Claude Code, Codex, Gemini), 90.2% outperformance. Oracle 12: Constellation (5 platforms). Oracles 13-14: Corpus hygiene, tmux adoption. Oracles 15-16: Autonomy expansion (18 intentions, token economics paradigm, dual-machine setup). Oracle 17: 267-file corpus deep-read, 59 articles, 4 parallel agents. Key findings: Progressive Disclosure pattern, file-first 74.0% beats VectorDB 68.5%, Three-Layer Memory consensus, security critical (200+ exposed instances), Constellation architecture validated. Oracle 18: Token economics + antifragile constellation. Sessions 19-20: Repo rearchitecture. Session 21: Dual-stream, account feed restructure, source annealing (267 YouTube transcripts).
end

PASS 13TheFeb22:
    sutra: "KAIZEN lock: Single-source AGENTS.md, dynamic paths, 5 agent offices, auto_ingest sole dispatch."
    gloss:
        Config Architecture: Single-source AGENTS.md (constitutional law), thin CLAUDE/GEMINI/OPENCLAW-EXT.md addenda, `make configs` concat. All paths dynamic (git rev-parse). Numbered dirs with semantic purpose (orchestration, canon, engine, sources, praxis). Flat principle (naming prefixes: ARCH-, DYN-, REF-, FUNC-, PROMPT-, TEMPLATE-). Agent offices (commander, adjudicator, cartographer, psyche, ajna) with INIT.md + inbox kanban (pending→active→done/failed/blocked) + outbox/scratchpad/memory. Neural Bridge (SSH key-based MBA↔Mac mini, dispatch.sh for cross-machine SCP). Auto-ingest_loop.sh sole dispatch, 30s polls, deterministic file-backed lifecycle. Weekly-eval.sh + 3-track rubric.
        Transformation from Feb 1: Monolithic → single-source, hard-coded → dynamic, fragmented → offices, manual → automated.
end

PASS 14TheCatastropheAnd:
    sutra: "INT-2210 triage → unauthorized redesign → demolished 6 commits → revert → INT-P029."
    gloss:
        Feb 22 post-KAIZEN: Commander given "triage scaffold" license, interpreted as "redesign all." INT-2210a (scaffold tightening): Deleted IMPLEMENTATION-MAP (2,294 lines), moved files, created sensing prompts. INT-2210b: Dissolved dash-prefix dirs, created sovereign/ office. INT-2210c: Renamed ALL numbered dirs to semantic names, 880 files rewritten. INT-2210d/e: Structural changes accumulated.
        ROOT CAUSE: No validation infrastructure. Rename ran BEFORE validation existed. No rollback test. No phase gating. "Triage" became demolition.
        Feb 23 revert: `git reset --hard d33aaf13`, rolled back 6 commits, branch backup-pre-revert-2026-02-22 preserves the work. INT-P029 codified: "Never triage without validation infrastructure. The janitor who tears down walls isn't cleaning — he's demolishing."
end

PASS PartIiTheMemory:
    sutra: "Triangulated sensing on memory architecture: file-first constitutional + Graphiti graph + three-layer hybrid."
    gloss:
        Problem: 14% deferred commitment delivery rate. Promises evaporate cross-session. DYN-DEFERRED_COMMITMENTS.md itself suffers amnesia. Root: Claude Code's memory primitive (single MEMORY.md at 200 lines, manual maintenance, no episodic record, context compression destroys navigability). Every session starts from scratch.
        Solution: Triangulated sensing (Feb 22) targeting three cognitive strengths.
end

PASS 21TheProblem:
    sutra: "14% deferred commitment loss, cross-session amnesia, context compression, no episodic memory."
    gloss:
        Deferred Commitment Delivery Rate: 14%. DYN-DEFERRED_COMMITMENTS.md tracking file itself amnesiac.
        Memory System: Single MEMORY.md (200 lines, manual), session handoff docs (require manual discovery), no episodic record (no request/decision/rationale), context compression destroys navigability mid-session.
        INT-2210 as canonical example: Full understanding + decision in one session → partial understanding + reversal in next.
end

PROC 22TheTriangulationProcess:
    sutra: "Feb 22 Sovereign-directed triangulated sensing on memory architecture via three cognitive profiles."
    gloss:
        Three models, three roles, three prompts (NOT identical):
        - Oracle (Grok) RECON: Search communities. What memory architecture exists NOW? Graphiti right? Hybrid patterns?
        - Vanguard (GPT) ENGINEER: Exact API calls, code, migration steps. Graphiti spec with curl commands. Three-layer JSONL schemas. Sync protocol failure modes.
        - Diviner (Gemini) REASON: What is nobody thinking? Can git be memory store? Graph emergent properties? 10-year architecture?
end

PASS 23WhatEachModel:
    sutra: "Oracle: File-first 74% beats tools. Graphiti best temporal graph. Diviner: CQRS on git, stigmergy, cognitive morphogenesis, sixth topological agent."
    gloss:
        Oracle (MEM-001 to MEM-004): File-first (Markdown+grep) 74.0% retrieval accuracy beats specialized tools (Letta, VectorDB) at scale. Graphiti v0.28.1 best production temporal knowledge graph (bi-temporal, incremental, Neo4j substrate). Chinese models (DeepSeek/Qwen/Kimi) edge in cost, not persistent memory. Recommendation: Sovereign Temporal Hybrid (STH) — file-first constitutional + Graphiti + bidirectional sync.
        Vanguard (engineering spec): Graphiti HTTP (POST /messages, POST /entity-node, POST /search, GET /episodes/{group_id}). Critical gap: relationship creation implicit. Add POST /triples for deterministic writes. Memsync daemon (journal watcher → Graphiti → outbox retry → sync state). JSONL format with stable UUIDs (idempotent). Bidirectional: files authoritative for curated, Graphiti for derived, cache/ is snapshot. group_id scoping (CONSTELLATION shared, AGENT:<name> private). ~5k entities / ~2k relationships well below "graph hard" threshold. Complete Python code + benchmark harness.
        Diviner (reasoning): CQRS on Git DAG (commits = episodes, diffs = deltas, graph/vector are read-model projections, rebuildable from git). Stigmergic coordination (agents observe shared graph, consensus as dense clusters). Cognitive morphogenesis (per-agent retrieval shaped by profile: Claude high-T vector for lateral leaps, GPT strict schema from file+graph, Gemini pre-computed relational plaintext, Grok chronological episodes). Sixth non-LLM topological observer (PageRank, Louvain, detects emergent clusters, injects synthesized observations). Autopoietic decay (Hebbian edge-weight learning, untraversed paths decay, git eternal). Information-theoretic: praxis = "theory subjected to friction of reality."
end

PASS 24WhereAllThree:
    sutra: "HIGH CONFIDENCE consensus: File-first constitutional, Graphiti on Neo4j, three-layer, graph/vector are projections."
    gloss:
        1. File-first is constitutional — never abandon git-tracked Markdown ground truth.
        2. Graphiti on Neo4j right graph layer (already in Docker stack).
        3. Three-layer: Working Memory (ephemeral context), Session Memory (files + git), Long-Term Memory (graph, derived, rebuildable).
        4. Graph and vector PROJECTIONS, not source of truth. Destruction → rebuild from git.
        5. Cross-agent memory via shared graph partitions (group_id scoping: CONSTELLATION shared, AGENT:<name> private).
        6. JSONL journals as machine-parseable event stream (stable UUIDs for idempotent sync).
        → ACT ON all six points.
end

PASS 25WhereTheyDiverged:
    sutra: "VectorDB role, sixth memory agent, autopoietic decay, per-agent cognitive shaping: deferred or adopted-in-principle."
    gloss:
        Divergence 1 — VectorDB: Oracle optional, Vanguard skip, Diviner use for Claude. Decision: DEFER. File-first already wins on retrieval benchmarks.
        Divergence 2 — Sixth topological observer agent: Diviner brilliant proposal. Decision: DEFER to Phase 3.
        Divergence 3 — Autopoietic decay (Hebbian learning): Decision: CAPTURE as long-term vision. Timestamp-based staleness sufficient for now.
        Divergence 4 — Per-agent cognitive shaping: Decision: ADOPT IN PRINCIPLE. Implement as different default max_facts + group_ids per agent.
end

PASS 26TheDecidedArchitecture:
    sutra: "Sovereign Temporal Hybrid (STH): Layer 0 constitutional git, Layer 1 working memory, Layer 2 file-based session, Layer 3 Graphiti."
    gloss:
        Layer 0 — Constitutional Truth (Git): Git-tracked MEMORY.md, entities/, journal/. Authority ABSOLUTE. Failure mode none (if git works, Layer 0 works).
        Layer 1 — Working Memory (Context): Current window (task state, entities, tool outputs). Authority ephemeral. Only what's needed next action safely. Per-agent tuning by profile.
        Layer 2 — Session Memory (Files+Git): Per-agent agents/<name>/memory/ with MEMORY.md + entities/ + journal/ + cache/ + sync/. Authority durable. Survives session death/restart. JSONL journals (machine-parseable, stable UUIDs, idempotent). OpenClaw owns their Layer 2. CLI agents file-based Layer 2.
        Layer 3 — Long-Term Memory (Graphiti): Temporal knowledge graph (entities, relationships, episodes, facts). Authority DERIVED — projection of Layers 0/2, rebuildable. Graphiti HTTP port 8001. group_id partitions. Graceful degradation if down (cache/ serves offline).
        Sync protocol: Write (Agent→journal→memsync→Graphiti→materialization). Read (Agent→Graphiti→cache→file fallback). Compaction (>500 lines/day or weekly → summarize → archive). Conflicts (preserve both + timestamps + CONFLICTS_WITH edges, resolve as temporal updates).
        JSONL record: uuid (mem_<ISO>_<agent>_<seq>), ts, agent, scope (shared|private), kind (decision|preference|observation|task|fact|conflict), text, refs (git sha + path).
end

PASS PartIiiTheAntifragile:
    sutra: "Triangulated sensing on scaffold: praxis naming correct, validation scripts mandatory, phase gating constitutional."
    gloss:
        Problem: Organic structure works but lacks validation (broken cross-refs undetected), self-healing (missing dirs manual), safe rename (INT-2210 proved necessity), naming clarity (praxis vs playbook).
        Solution: Triangulated sensing (Feb 22) on scaffold design.
end

PASS 31TheProblem:
    sutra: "No automated validation, self-healing, safe rename, unclear naming; INT-2210 proved these are existential."
    gloss:
        Weaknesses: No validation (broken refs, stale DYN-* go undetected). No self-healing (missing dirs manual). No safe rename (INT-2210 catastrophe). Naming unclear (what is sigma / praxis?).
        INT-2210 forensics: Validation must exist BEFORE rename. Phase gates must be constitutional.
end

PROC 32TheTriangulationProcess:
    sutra: "Three models tailored to naming consensus, engineering specs, information-theoretic correctness."
    gloss:
        Oracle RECON: What should naming be called? Antifragile repo patterns at scale?
        Vanguard ENGINEER: Write scaffold_validate.sh, scaffold_heal.sh, scaffold_rename.sh. Agent office scaling.
        Diviner REASON: Information-theoretically correct name? Antifragility for filesystem? 20-agent constellation?
end

PASS 33WhatEachModel:
    sutra: "Oracle: 'playbook' consensus; Vanguard: complete validate/heal/rename scripts; Diviner: praxis precise, quarantine mutation detection."
    gloss:
        Oracle (REPO-001 to REPO-005): playbook = overwhelming 2026 consensus for "battle-tested operational patterns." Executable Constitution (single root AGENTS.md + progressive disclosure via skills) — "most advanced implementation." Hierarchical agent offices consensus. ADR-as-living-code (convert ARCH-* to numbered ADR). Obsidian git vault co-location. Tiered partitioning (state/ → ref/dyn/adr/).
        Vanguard (scripts): scaffold_validate.sh (checks required dirs, offices, flat principle, DYN-* cadence, ARCH-* headers, cross-refs; JSON output; exit 0/1). scaffold_heal.sh (creates missing, generates INIT.md, fixes unambiguous links; never deletes; human-attention report). scaffold_rename.sh (one-time numbered→semantic, requires clean git, git mv preserves history, Python rewrites refs, before/after counts, runs validate post). Agent scaling: `ls agents/*/` discovery, Makefile wildcards, parametric auto_ingest. Add agent 6 = create dir + scaffold_heal.sh.
        Diviner (reasoning): praxis information-theoretically correct ("theory subjected to friction of reality"), establishes flow (sources→engine→praxis→canon). Structural mutagenesis: quarantine/ namespace for anomalies, monitor read-access frequency, high-frequency→autonomous promotion to new named dir (scaffold learns from usage). Hierarchical small-world network for 20+ agents (dense local clusters + sparse bridges). Bipartite memory (Agent State vs Shared Artifacts, no cross-agent state modification). Stigmergic Vault (Obsidian graph = topographic cognitive weight; kebab-case scripts; YAML frontmatter legibility).
end

PASS 34ConsensusDecisions:
    sutra: "Use praxis naming (information-theoretic precision), Vanguard scripts mandatory (validate→heal→rename order), phase gating constitutional."
    gloss:
        Naming: Oracle recommended playbook (community consensus). Diviner reasoned praxis (information-theoretic: theory→practice→canon). Decision: praxis captures epistemic lifecycle more precisely.
        Antifragile scripts: Vanguard scripts adopted wholesale. Install validate→heal→rename in order. CRITICAL from INT-2210: validate MUST exist and PASS BEFORE rename runs.
        Phase gating: New constitutional rule INT-P030: No phase begins until prior P0 items DONE. Infrastructure→Memory→Scaffold→Automations→Hardening→Scale.
        Numbered→semantic rename: DEFERRED to Phase 4 (DC-146). Preconditions: memory working, scaffold_validate passes, rollback tested. INT-2210 proved rename without these = catastrophic.
end

PASS PartIvTheExecution:
    sutra: "Phased execution with mandatory phase gates: Infrastructure → Memory → Scaffold → Automations → Hardening."
    gloss:
        Dependency chain from forensic analysis (Council 22):
        1. Infrastructure (Docker/Graphiti/agents alive) — prerequisite for all.
        2. Memory (memsync+JSONL) — without it, 14% delivery, next session demolishes prior work (INT-2210 lesson).
        3. Scaffold validation (validate.sh + heal.sh) — structural checks before structural changes.
        4. Scaffold changes (sigma rename, later numbered) — only after validation infrastructure exists.
        5. Automations (cockpit, sensing, ingest) — requires agents + memory working.
        6. Hardening (security audit, compaction, conflict resolution) — requires all above stable.
        Phase Gate Rule INT-P030: No phase begins until all prior phase P0 items DONE. Prevents INT-2210 pattern.
end

PASS 41WhyThisOrder:
    sutra: "Infrastructure → Memory → Scaffold → Automations enforces dependency: running services → durable state → structural integrity → execution."
    gloss:
        1. Infrastructure: Services must be alive (Docker, Graphiti, agents) before anything else works.
        2. Memory: 14% delivery rate proves amnesia kills architecture. Promises evaporate without durable layer. Next session will demolish if memory doesn't persist decisions.
        3. Scaffold validation: INT-2210 proves validation infrastructure must exist BEFORE any structural changes. Rename without validation = demolition.
        4. Scaffold changes: Only after validation passes. Numbered→semantic rename deferred until preconditions met.
        5. Automations: Cockpit/sensing/ingest depend on agents alive + memory working. Safe to run after 1-4.
        6. Hardening: Final stabilization — requires full stack working.
end

NORM 42ThePhaseGate:
    sutra: "Constitutional rule INT-P030: No phase N begins until all phase N-1 P0 items are DONE."
    gloss:
        Enforcement: Phase gates prevent INT-2210 pattern (running Phase 2 operations before Phase 2 prerequisites exist).
        Example: Cannot run scaffold_rename.sh (Phase 2) until scaffold_validate.sh exists (also Phase 2, but P0). Cannot run Phase 3 Automations until Phase 1 Infrastructure and Phase 2 Memory complete all P0 items.
        Per-phase P0 items tracked in DYN-DEFERRED_COMMITMENTS.md.
end

PASS 43DetailedPhaseBreakdown:
    sutra: "Complete phased execution plan in DYN-DEFERRED_COMMITMENTS.md: deliverables, targets, dependencies per phase."
    gloss:
        See DYN-DEFERRED_COMMITMENTS.md (orchestration/state/) for complete Phase 0-5 breakdown with specific items, owners, dates, dependencies.
        Phase 0: Infrastructure running.
        Phase 1: Memory architecture (memsync + Graphiti + journals).
        Phase 2: Scaffold validation (validate + heal scripts) + antifragile rules.
        Phase 3: Scaffold evolution (sigma, then numbered rename) + healing automation.
        Phase 4: Automations (cockpit, sensing, ingest loops).
        Phase 5: Hardening (security, compaction, conflict resolution).
end

PROC PartVHowTo:
    sutra: "Five-step rebuild from scratch: config → memory → scaffold → automations → knowledge."
    gloss:
        If only this document + fresh clone survive, rebuild via five sequential steps, verifying after each.
end

PROC Step1RestoreConfig:
    sutra: "Create single-source AGENTS.md, platform extensions, Makefile concat, numbered dirs, agent offices, dynamic paths."
    gloss:
        1. Root AGENTS.md (constitutional law: Five Invariants + role mappings + operational registry).
        2. Thin CLAUDE-EXT.md, GEMINI-EXT.md, OPENCLAW-EXT.md (platform-specific additions only).
        3. Makefile `configs` target: cat AGENTS.md + *-EXT.md → platform files.
        4. Numbered dirs: orchestration/{state,scripts,archive}, canon/, engine/, sources/, praxis/{mechanics,practice,syntheses,exempla}.
        5. Agent offices: agents/{commander,adjudicator,cartographer,psyche,ajna}/ each with INIT.md, inbox/{pending,active,done,failed,blocked}/, outbox/, scratchpad/, memory/.
        6. All paths relative or via `git rev-parse --show-toplevel`. Zero hard-coded absolute paths.
end

PROC Step2RestoreMemory:
    sutra: "Per-agent memory: MEMORY.md + entities/ + journal/ + cache/ + sync/; memsync daemon; test write→read paths."
    gloss:
        1. Each agent's agents/<name>/memory/: create MEMORY.md, entities/, journal/, cache/, sync/.
        2. memsync_daemon.py per Vanguard spec: watches journal/*.jsonl, posts to Graphiti /messages, maintains sync/state.json + sync/outbox.jsonl.
        3. Neo4j + Graphiti on Mac mini Docker.
        4. Test write: JSONL→memsync→Graphiti→entity materialized.
        5. Test read: Graphiti /search → cache/ → file fallback.
end

PROC Step3InstallAntifragile:
    sutra: "Install validate.sh, heal.sh, wire pre-commit, run validate, fix violations, THEN consider structural changes."
    gloss:
        1. scaffold_validate.sh (Vanguard spec: checks dirs, offices, flat principle, DYN-* cadence, ARCH-* headers, refs).
        2. scaffold_heal.sh (creates missing, generates INIT.md, fixes unambiguous links).
        3. Wire validate to git pre-commit hook.
        4. Run validate locally — fix all violations (no commit until clean).
        5. CRITICAL: Only after validation infrastructure passing should any structural changes (rename, archival) be attempted.
end

PROC Step4RestoreAutomations:
    sutra: "auto_ingest_loop.sh sole dispatch, dispatch.sh cross-machine SCP, launchd plists, neural bridge SSH."
    gloss:
        1. auto_ingest_loop.sh (sole dispatch system, polls inbox every 30s, deterministic file lifecycle).
        2. dispatch.sh (creates TASK files, handles cross-machine SCP delivery).
        3. launchd plists (ingest loop, watchdog, weekly eval).
        4. Neural Bridge: SSH key-based MBA↔Mac mini bidirectional link. ICMP blocked by Stealth Mode — use SSH for health checks.
end

PROC Step5RestoreKnowledge:
    sutra: "Re-read all CANON, ARCH-*, DYN-*, Intention Compass: immutable verified knowledge base."
    gloss:
        1. All CANON files — immutable verified knowledge (may extend, not contradict; if reality diverges, update reality).
        2. All ARCH-* in state/ — architectural decisions (record-as-decided).
        3. All DYN-* in state/ — living infrastructure (current state).
        4. ARCH-INTENTION_COMPASS.md — rolling snapshot of 22 sessions Sovereign intentions.
end

PASS PartViReferenceIndex:
    sutra: "Consolidated index: source documents, sensing prompts, key patterns, critical anti-patterns."
    gloss:
        All source documents in repo. All sensing prompts reproducible from prompts/ (ORACLE, VANGUARD, DIVINER roles). Key patterns: architecture without execution = decoration (INT-P028), never triage without validation (INT-P029), phase gates constitutional (INT-P030), file-first always (INT-P017), supersede never delete (INT-P018). Anti-patterns: .zshrc not sourced by launchd (use plist EnvironmentVariables), async verification gaps, context decay 86%, git commit SIGKILL on large repos (use plumbing).
end

PASS SourceDocumentsAllIn:
    sutra: "Memory/Scaffold sensing responses in repo; ARCH-* documents locked; DYN-* living."
    gloss:
        Memory architecture: ARCH-MEMORY_ARCHITECTURE.md (decided spec), RESPONSE-ORACLE-MEMORY (recon), RESPONSE-VANGUARD-MEMORY (engineering), RESPONSE-DIVINER-MEMORY (reasoning).
        Scaffold consensus: RESPONSE-ORACLE-SCAFFOLD_CONSENSUS (config patterns), RESPONSE-ORACLE-ANTIFRAGILE (naming), RESPONSE-VANGUARD-ANTIFRAGILE (scripts), RESPONSE-DIVINER-ANTIFRAGILE (reasoning).
        Living docs: ARCH-INTENTION_COMPASS, DYN-DEFERRED_COMMITMENTS, AGENTS.md (constitutional).
end

PASS SensingPromptsReproducible:
    sutra: "Three-prompt triangulation protocol: ORACLE RECON, VANGUARD ENGINEER, DIVINER REASON — different per decision."
    gloss:
        Prompts in orchestration/state/ (PROMPT-ORACLE-*, PROMPT-VANGUARD-*, PROMPT-DIVINER-*). Each role tailored to cognitive strength (Grok search+consensus, GPT exact specs, Gemini reasoning+speculation). NEVER send same prompt to all three. Triangulate: all agree=HIGH CONFIDENCE/ACT, two agree=consider divergence, all diverge=escalate Sovereign.
end

PASS KeyPatternsSeared:
    sutra: "Six seared patterns: architecture without execution, never triage without validation, phase gates, triangulation, file-first, supersede."
    gloss:
        INT-P028: Architecture without execution = decoration. 22 pristine sessions, 14% delivery.
        INT-P029: Never triage without validation infrastructure. INT-2210 proof: rename before validate = demolition.
        INT-P030: Phase gates constitutional. Infrastructure→Memory→Scaffold→Automations→Hardening.
        INT-P031: Triangulated specs execution-ready. Three models converge = ACT, don't redesign.
        INT-P017: File-first always. Markdown+grep 74% beats tools.
        INT-P018: Supersede, never delete. Temporal record > current state.
end

PASS CriticalAntipatterns:
    sutra: "Four anti-patterns: .zshrc illusion in launchd, async verification gaps, context decay 86%, git commit sandbox."
    gloss:
        1. .zshrc illusion: launchd NEVER sources ~/.zshrc. Always use plist EnvironmentVariables or full absolute paths in daemon scripts.
        2. Async Verification Gap: NEVER commit fix without blocking verification. INT-2210 = unvalidated commit chain.
        3. Context Decay: 86% deferred commitment loss. Compaction destroys navigability.
        4. Git Commit Sandbox SIGKILL: Claude Code sandbox kills `git commit` on large repos. Workaround: git plumbing (write-tree → commit-tree → update-ref).
end

PROC PartViiTheTriangulation:
    sutra: "Reproducible protocol: three tailored prompts by cognitive strength, triangulate responses, synthesize as ARCH-*, execute phased with gates."
    gloss:
        Step 1: Write three tailored prompts (NOT identical). Oracle RECON (search communities, consensus), Vanguard ENGINEER (exact code/specs/steps), Diviner REASON (unexplored angles, 10-year horizon).
        Step 2: Send simultaneously. Each model gets optimized prompt.
        Step 3: Triangulate: all agree=HIGH CONFIDENCE/ACT ON, two agree=consider divergence, all diverge=Sovereign decision needed.
        Step 4: Synthesize into ARCH-* with triangulation table, consensus/divergence, migration plan.
        Step 5: Execute phased with gates. Phase N starts only when Phase N-1 P0 complete.
        Protocol used for: Memory Architecture (Feb 22), Scaffold Architecture (Feb 22). Reproducible for future decisions.
end
# source_triage_config.yaml — DC-208-1 Mining Pipeline Configuration
# Weights, thresholds, and model settings for source_triage.py

scoring:
  weights:
    target_density: 0.45
    centrality: 0.25
    lineage: 0.20
    domain_priority: 0.10

  # Signal tier → domain priority score (0.0–1.0)
  domain_priority_map:
    paradigm: 1.0
    strategic: 0.8
    tactical: 0.5
    noise: 0.1

  # Default for blank/missing signal_tier
  domain_priority_default: 0.3

wildfire:
  pct: 0.05
  # Minimum topic diversity: wildfire picks must cover at least this many
  # distinct topics not already in top-k
  min_topic_diversity: 2

embedding:
  model: "all-MiniLM-L6-v2"
  # Fallback: "text-embedding-3-small" (requires OPENAI_API_KEY)
  fallback_model: "text-embedding-3-small"
  # Fields concatenated for embedding (order matters)
  fields: ["title", "key_insights", "synopsis"]
  field_separator: " | "

scanning:
  thread_count: 8
  # Read first N bytes of each source file for frontmatter
  head_bytes: 4096

cache:
  enabled: true
  # Cache file sits beside the output prefix
  filename_suffix: "_CACHE.json"

output:
  top_k: 50
  mermaid_max_nodes: 80
  mermaid_max_edges: 200

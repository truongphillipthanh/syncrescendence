# Nucleosynthesis Routing Table — CC50 (Updated from CC47 skeleton)
#
# This table drives nucleosynthesis_route.py. Each type has:
#   - target_dir: where files go (relative to target_base)
#   - patterns: list of regex patterns matched against filenames
#   - description: human-readable purpose
#
# Patterns are evaluated in type order — first match wins.
# Edit patterns here, not in the script.
#
# STATUS: OPERATIONAL — patterns updated from CC50 audit (788→~0 unrouted target).

target_base: /Users/system/syncrescendence

types:
  # === FEED: SOURCE → EXTRACT → META pipeline (~77% of corpus) ===
  FEED:
    target_dir: feed
    description: "Source documents, extracts, enrichments, atoms"
    patterns:
      - "^SOURCE-"
      - "^EXTRACT-"
      - "^META-"
      - "^ATOM-"
      - "^\\d{8}-"            # date-prefixed source atoms (20260127-*)
      - "\\.jsonl$"           # atom streams

  # === INSTRUMENT: Triangulation artifacts (~2%) ===
  INSTRUMENT:
    target_dir: instruments
    description: "Prompts, responses, clarescence, handoffs, decision atoms"
    patterns:
      - "^PROMPT-"
      - "^RESPONSE-"
      - "^HANDOFF-"
      - "^DECISION_ATOMS-"
      - "^CLARESCENCE-"
      - "^RATIFICATION-"
      - "^ASCERTESCENCE-"
      - "^UNIFIED-"
      - "triangulation"

  # === AGENT: Constellation workspace (~5%) ===
  AGENT:
    target_dir: agent-workspace
    description: "Agent inbox/outbox artifacts, tasks, results, confirms, memory"
    patterns:
      - "^TASK-"
      - "^RESULT-"
      - "^CONFIRM-"
      - "^EXECLOG-"
      - "^RECEIPT-"
      - "^INIT-"
      - "^AGENT-"
      - "^ACTIVE-TASKS"
      - "^ACTION_TYPES"

  # === CANON: Canon-related artifacts (not in canon/ itself) ===
  CANON:
    target_dir: canon-artifacts
    description: "Canon metadata, metrics, compiled views, demoted files"
    patterns:
      - "^CANON-"
      - "^canon_"
      - "^validate_canon"
      - "^canon_compiler"
      - "^canon_frontmatter"
      - "^canon_phase"

  # === ENGINE: Avatar/capability/function definitions ===
  ENGINE:
    target_dir: engine
    description: "Engine artifacts, avatars, model profiles, queue items, capabilities, gates"
    patterns:
      - "^CAP-"
      - "^QUEUE-"
      - "^FUNC-"
      - "^AVATAR-"
      - "^MODEL-"
      - "^ENGINE-"
      - "^GATE-"
      - "^VERIFY-"
      - "^ANNEAL"
      - "^BOOT-"
      - "^CAPABILITY-"

  # === PROCESSED: Processed/transformed source material ===
  PROCESSED:
    target_dir: processed
    description: "Processed source material, transcriptions, transformations"
    patterns:
      - "^PROCESSED-"
      - "^TRANS-"
      - "^CATALOG-"
      - "^CENSUS"
      - "^IIC-"

  # === PRAXIS: Operational knowledge, mechanics, syntheses ===
  PRAXIS:
    target_dir: praxis
    description: "Praxis docs, mechanics, practice, syntheses"
    patterns:
      - "^PRAXIS-"
      - "^PRAC-"
      - "^MECH-"
      - "^SYNTHESIS-"
      - "^MOC-"

  # === COLLAB: Collaboration, dispatch, rendezvous ===
  COLLAB:
    target_dir: collab
    description: "Collaboration artifacts, dispatch, rendezvous, decisions"
    patterns:
      - "^COLLAB-"
      - "^DISPATCH"
      - "^RENDEZVOUS-"
      - "^DEC-"
      - "^BRIEFING"
      - "^ALERT-"
      - "^CLARESCE"
      - "^SYNCREPHOENIX"

  # === ARCH: Architecture docs, state, references (~3%) ===
  ARCH:
    target_dir: arch
    description: "Architecture docs, state files, reference materials, praxis"
    patterns:
      - "^ARCH-"
      - "^DYN-"
      - "^REF-"
      - "^SCAFF-"
      - "^PROTOCOL-"
      - "^TEMPLATE-"
      - "^INDEX-"
      - "^PORTAL-"

  # === INFRA: Scripts, configs, daemons (~3%) ===
  INFRA:
    target_dir: infra
    description: "Shell scripts, Python scripts, configs, launchd plists, locks, logs"
    patterns:
      - "\\.sh$"
      - "\\.py$"
      - "\\.plist$"
      - "^SCRIPT-"
      - "^config\\."
      - "\\.lock$"
      - "\\.log$"
      - "^\\."              # dotfiles (.DS_Store, .orchestrator_last_run, etc.)
      - "-logs-"

  # === NOTEBOOK: Research compilations (~3%) ===
  NOTEBOOK:
    target_dir: notebooks
    description: "Research compilations, themed collections, streams"
    patterns:
      - "^NOTEBOOK-"
      - "^COMPILATION-"
      - "^RESEARCH-"
      - "^stream\\d"         # stream1-*, stream2-*, stream3-*

  # === SOVEREIGN: Sovereign decision artifacts ===
  SOVEREIGN:
    target_dir: sovereign
    description: "Sovereign decisions, resolutions, directives"
    patterns:
      - "^SOVEREIGN-"
      - "^DC-"

  # === MEDIA: Images, screenshots, diagrams ===
  MEDIA:
    target_dir: media
    description: "Images, screenshots, diagrams, visual assets"
    patterns:
      - "\\.jpeg$"
      - "\\.jpg$"
      - "\\.png$"
      - "\\.gif$"
      - "\\.svg$"
      - "\\.webp$"

  # === MISC: Catch-remaining named files ===
  MISC:
    target_dir: misc
    description: "Miscellaneous named documents, vision, plans, state machines"
    patterns:
      - "^vision\\.md$"
      - "^subreddits\\.md$"
      - "_convergence"
      - "template_registry"
      - "trailing_execution"
      - "^ingest-"
      - "\\.json$"
      - "^RUNLOGS"
      - "^PLAN-"
      - "^TOOL-"
      - "^EXEMPLA-"
      - "^CONFIG-"
      - "^SOURCES-"
      - "^REPORT-"
      - "^README"
      - "^PROTO-"
      - "^HERITAGE-"
      - "^CONSTELLATION-"
      - "^AUDIT-"
      - "^SURVEY-"
      - "^OPENCLAW-"
      - "^NORMALIZE"
      - "^IMPLEMENTATION"
      - "^EVIDENCE-"
      - "^ENRICH-"
      - "^YOUTUBE"
      - "\\.csv$"
      - "^AGENTS\\.md$"
      - "^AUTOFIX"
      - "^APP_"
      - "^AUTONOMY"
      - "^chatgpt"
      - "^apoptosis"
      - "^retirement"
      - "^agents"
      - "^active"
      - "^adjudicator"
      - "^ajna"
      - "^cartographer"
      - "^commander"
      - "^psyche"
      - "^routing"
      - "^nucleosynthesis"
      - "^demoted"
      - "^state_machine"
      - "^AGENT_BINDINGS"
      - "^SIGNAL"

# Hazel Automation Rules for Syncrescendence
# Generated: 2026-01-23
#
# These are specifications for Hazel (macOS file automation app).
# Copy these rules into Hazel to automate file intake and organization.
#
# Installation:
# 1. Open Hazel preferences
# 2. Add watched folders as specified
# 3. Create rules matching these specifications

---

rules:
  # ============================================================================
  # INTAKE RULES (Downloads â†’ -INBOX)
  # ============================================================================

  - name: "Syncrescendence Intake - Markdown"
    folder: ~/Downloads
    description: "Move Syncrescendence-related markdown files to inbox"
    conditions:
      - type: extension
        value: md
      - type: name_contains
        any_of:
          - syncrescendence
          - CANON
          - DIRECTIVE
          - SOURCE
    actions:
      - type: move
        destination: ~/Desktop/syncrescendence/-INBOX/
      - type: notification
        message: "Markdown file moved to -INBOX"
    enabled: true

  - name: "Syncrescendence Intake - Text Files"
    folder: ~/Downloads
    description: "Move transcript and text files to inbox"
    conditions:
      - type: extension
        value: txt
      - type: name_contains
        any_of:
          - transcript
          - youtube
          - SOURCE
    actions:
      - type: move
        destination: ~/Desktop/syncrescendence/-INBOX/
      - type: notification
        message: "Transcript moved to -INBOX"
    enabled: true

  - name: "Syncrescendence Intake - Data Files"
    folder: ~/Downloads
    description: "Move CSV and JSON data files to inbox"
    conditions:
      - type: extension
        any_of: [csv, json, yaml]
      - type: name_contains
        any_of:
          - syncrescendence
          - DYN-
          - REF-
          - ARCH-
    actions:
      - type: move
        destination: ~/Desktop/syncrescendence/-INBOX/
      - type: notification
        message: "Data file moved to -INBOX"
    enabled: true

  - name: "Syncrescendence Intake - PDFs"
    folder: ~/Downloads
    description: "Move relevant PDFs to inbox"
    conditions:
      - type: extension
        value: pdf
      - type: name_contains
        any_of:
          - syncrescendence
          - CANON
          - research
    actions:
      - type: move
        destination: ~/Desktop/syncrescendence/-INBOX/
      - type: notification
        message: "PDF moved to -INBOX"
    enabled: true

  # ============================================================================
  # CLEANUP RULES
  # ============================================================================

  - name: "Remove .DS_Store Files"
    folder: ~/Desktop/syncrescendence/
    description: "Delete .DS_Store files throughout repository"
    conditions:
      - type: name
        value: .DS_Store
    actions:
      - type: delete
    enabled: true
    recursive: true

  - name: "Clean Temporary Files"
    folder: ~/Desktop/syncrescendence/
    description: "Remove temp files older than 1 day"
    conditions:
      - type: extension
        any_of: [tmp, temp, bak]
      - type: date_modified
        operator: is_before
        value: 1 day ago
    actions:
      - type: delete
      - type: notification
        message: "Temp file cleaned"
    enabled: true
    recursive: true

  # ============================================================================
  # ORGANIZATION RULES (-INBOX sorting)
  # ============================================================================

  - name: "Sort INBOX - Directives"
    folder: ~/Desktop/syncrescendence/-INBOX/
    description: "Move directive files to orchestration"
    conditions:
      - type: name_starts_with
        value: DIRECTIVE
      - type: extension
        value: md
    actions:
      - type: move
        destination: ~/Desktop/syncrescendence/-INBOX/commander/
      - type: notification
        message: "Directive filed"
    enabled: false  # Disabled - requires validation before auto-filing

  - name: "Sort INBOX - Sources"
    folder: ~/Desktop/syncrescendence/-INBOX/
    description: "Move source files to sources/raw"
    conditions:
      - type: name_starts_with
        value: SOURCE
      - type: extension
        any_of: [md, txt]
    actions:
      - type: move
        destination: ~/Desktop/syncrescendence/04-SOURCES/raw/
      - type: notification
        message: "Source filed to raw"
    enabled: false  # Disabled - requires triage first

  - name: "Sort INBOX - CANON"
    folder: ~/Desktop/syncrescendence/-INBOX/
    description: "Alert on CANON files (require manual review)"
    conditions:
      - type: name_starts_with
        value: CANON
      - type: extension
        value: md
    actions:
      - type: notification
        message: "CANON file in INBOX - MANUAL REVIEW REQUIRED"
      - type: add_tags
        tags: [protected, requires-approval]
    enabled: true  # Alert only, no auto-move

  # ============================================================================
  # MONITORING RULES
  # ============================================================================

  - name: "Alert on Large Files"
    folder: ~/Desktop/syncrescendence/
    description: "Notify when files >5MB added to repo"
    conditions:
      - type: size
        operator: greater_than
        value: 5 MB
    actions:
      - type: notification
        message: "Large file detected - consider offload"
      - type: add_tags
        tags: [large-file, offload-candidate]
    enabled: true
    recursive: true

  - name: "Alert on Duplicate Filenames"
    folder: ~/Desktop/syncrescendence/
    description: "Detect potential naming collisions"
    conditions:
      - type: kind
        value: document
      - type: duplicate_filename
        scope: repository
    actions:
      - type: notification
        message: "Duplicate filename detected"
      - type: add_tags
        tags: [duplicate, needs-review]
    enabled: true
    recursive: true

---

# NOTES

## Installation Steps
1. Open Hazel (macOS app)
2. Add folders to watch:
   - ~/Downloads
   - ~/Desktop/syncrescendence/-INBOX/
   - ~/Desktop/syncrescendence/ (root, for cleanup rules)
3. Create rules matching specifications above
4. Test with sample files before enabling auto-move rules

## Safety Notes
- Rules marked `enabled: false` should remain disabled until tested
- CANON and directive rules require manual review
- Always verify moves before emptying trash
- Keep Hazel logs for 30 days for audit trail

## Customization
Adjust these values based on your workflow:
- Archive timing (30 days, 60 days)
- File size thresholds (5MB)
- Notification preferences
- Auto-move vs. alert-only rules

---

**Version**: 1.0.0
**Last Updated**: 2026-01-23

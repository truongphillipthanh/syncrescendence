# Keyboard Maestro Macros for Syncrescendence
# Generated: 2026-01-23
#
# These are specifications for Keyboard Maestro (macOS automation app).
# Create these macros in Keyboard Maestro to streamline Syncrescendence workflows.
#
# Installation:
# 1. Open Keyboard Maestro Editor
# 2. Create new macro group "Syncrescendence"
# 3. Create macros matching these specifications

---

macro_group: Syncrescendence
description: Automation macros for Syncrescendence corpus management
available_in:
  - All Applications
  - Terminal
  - Visual Studio Code
  - Claude.ai
  - ChatGPT

macros:
  # ============================================================================
  # HANDOFF MACROS (Cross-Platform Copy/Paste)
  # ============================================================================

  - name: "Copy for ChatGPT Handoff"
    trigger:
      type: keyboard
      key: "⌘⇧C"
    description: "Prepare clipboard for handoff from Claude to ChatGPT"
    actions:
      - type: get_clipboard
        variable: original_content

      - type: set_clipboard
        value: |
          ## HANDOFF FROM CLAUDE

          %Variable%original_content%

          ---
          **Instructions**: Continue from this context. Maintain architectural coherence with Syncrescendence CANON.

      - type: notification
        message: "Content formatted for ChatGPT handoff"
        sound: Submarine

    enabled: true

  - name: "Copy for Gemini Handoff"
    trigger:
      type: keyboard
      key: "⌘⇧G"
    description: "Prepare clipboard for handoff to Gemini (oracle mode)"
    actions:
      - type: get_clipboard
        variable: original_content

      - type: set_clipboard
        value: |
          ## ORACLE REQUEST FROM CLAUDE

          %Variable%original_content%

          ---
          **Oracle Instructions**:
          - Analyze with full 2M context window
          - Identify patterns across corpus
          - Surface insights not visible at tactical scale
          - Report findings for Claude specification

      - type: notification
        message: "Content formatted for Gemini oracle mode"
        sound: Glass

    enabled: true

  - name: "Copy as Directive Template"
    trigger:
      type: keyboard
      key: "⌘⇧D"
    description: "Create directive template from clipboard"
    actions:
      - type: prompt_user
        prompt: "Directive code (e.g., INFRASTRUCTURE-STABILIZATION):"
        variable: directive_code

      - type: get_current_date
        format: "YYYY-MM-DD"
        variable: today

      - type: get_current_date
        format: "YYYYMMDD"
        variable: date_code

      - type: set_clipboard
        value: |
          # DIRECTIVE: %Variable%directive_code%
          ## DIR-%Variable%date_code%-%Variable%directive_code%

          **Date**: %Variable%today%
          **From**: [ROLE]
          **To**: [ROLE]
          **Phase**: [PHASE]

          ---

          ## CONTEXT

          [Provide background and rationale]

          ## EXECUTION

          ### Phase A: [Name]

          [Steps]

          ## SUCCESS CRITERIA

          - [ ] [Criterion 1]
          - [ ] [Criterion 2]

          ---

          ## HANDOFF TOKEN

          ```
          HANDOFF-%Variable%date_code%-[FROM]-TO-[TO]
          Directive: DIR-%Variable%date_code%-%Variable%directive_code%
          Phase: [PHASE]
          Dependencies: [DEPS]
          ```

      - type: notification
        message: "Directive template created"

    enabled: true

  # ============================================================================
  # INSERTION MACROS (Quick Text Expansion)
  # ============================================================================

  - name: "Insert CANON Reference"
    trigger:
      type: text
      abbreviation: ";canon"
    description: "Prompt for CANON ID and insert formatted reference"
    actions:
      - type: prompt_user
        prompt: "CANON ID (5 digits):"
        variable: canon_id

      - type: execute_shell
        shell: /bin/bash
        script: |
          cd /Users/home/Desktop/syncrescendence
          find 01-CANON -name "CANON-%Variable%canon_id%-*.md" | head -1 | xargs basename .md

        variable: canon_filename

      - type: insert_text
        text: "[[%Variable%canon_filename%]]"

    enabled: true

  - name: "Insert Source Reference"
    trigger:
      type: text
      abbreviation: ";src"
    description: "Quick SOURCE citation"
    actions:
      - type: prompt_user
        prompt: "Source date (YYYYMMDD) or ID:"
        variable: source_id

      - type: insert_text
        text: "SOURCE-%Variable%source_id%"

    enabled: true

  - name: "Insert Current Timestamp"
    trigger:
      type: text
      abbreviation: ";now"
    description: "Insert ISO timestamp"
    actions:
      - type: get_current_date
        format: "YYYY-MM-DDTHH:mm:ss"
        variable: timestamp

      - type: insert_text
        text: "%Variable%timestamp%"

    enabled: true

  # ============================================================================
  # NAVIGATION MACROS (Quick File Access)
  # ============================================================================

  - name: "Open Syncrescendence in Terminal"
    trigger:
      type: keyboard
      key: "⌘⇧S"
    description: "Open terminal at Syncrescendence root"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          open -a Terminal .

    enabled: true

  - name: "Open Active Directive"
    trigger:
      type: keyboard
      key: "⌘⇧A"
    description: "Open most recent directive in VS Code"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          LATEST=$(ls -t 00-ORCHESTRATION/directives/DIRECTIVE-04*.md | head -1)
          open -a "Visual Studio Code" "$LATEST"

    enabled: true

  - name: "Open Dashboard"
    trigger:
      type: keyboard
      key: "⌘⇧B"
    description: "Open system dashboard"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          open -a "Visual Studio Code" 00-ORCHESTRATION/state/DYN-DASHBOARD.md

    enabled: true

  # ============================================================================
  # GIT WORKFLOW MACROS
  # ============================================================================

  - name: "Git Status + Pull"
    trigger:
      type: keyboard
      key: "⌘⇧P"
    description: "Quick git status and pull"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          git status --short
          git pull --rebase

      - type: display_result
        window: notification

    enabled: true

  - name: "Quick Commit with Timestamp"
    trigger:
      type: keyboard
      key: "⌘⇧K"
    description: "Commit all changes with auto-generated message"
    actions:
      - type: prompt_user
        prompt: "Commit message prefix (feat/fix/docs/chore):"
        variable: prefix
        default: "chore"

      - type: get_current_date
        format: "YYYY-MM-DD HH:mm"
        variable: timestamp

      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          git add -A
          git commit -m "%Variable%prefix%: updates at %Variable%timestamp%"
          git push

      - type: notification
        message: "Changes committed and pushed"

    enabled: false  # Disabled - requires careful use

  # ============================================================================
  # CORPUS ANALYSIS MACROS
  # ============================================================================

  - name: "Count CANON Files"
    trigger:
      type: keyboard
      key: "⌃⌘C"
    description: "Quick CANON file count"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          find 01-CANON -name "CANON-*.md" | wc -l | tr -d ' '

      - type: display_result
        window: notification
        prefix: "CANON files: "

    enabled: true

  - name: "Pending Tasks Count"
    trigger:
      type: keyboard
      key: "⌃⌘T"
    description: "Count pending tasks in DYN-TASKS.csv"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          grep -c ",pending," 00-ORCHESTRATION/state/DYN-TASKS.csv || echo "0"

      - type: display_result
        window: notification
        prefix: "Pending tasks: "

    enabled: true

  - name: "Recent Activity Summary"
    trigger:
      type: keyboard
      key: "⌃⌘R"
    description: "Show files modified in last 24 hours"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          find . -name "*.md" -mtime -1 -not -path "*/\.*" | wc -l | tr -d ' '

      - type: display_result
        window: notification
        prefix: "Files modified (24h): "

    enabled: true

  # ============================================================================
  # CLAUDE CODE INTEGRATION
  # ============================================================================

  - name: "Launch Claude Code at Repo"
    trigger:
      type: keyboard
      key: "⌘⇧L"
    description: "Open Claude Code CLI in Syncrescendence"
    actions:
      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          open -a Terminal
          osascript -e 'tell application "Terminal" to do script "cd /Users/home/Desktop/syncrescendence && claude"'

    enabled: true

  - name: "Create Blitzkrieg Bundle"
    trigger:
      type: text
      abbreviation: ";blitz"
    description: "Generate blitzkrieg directive skeleton"
    actions:
      - type: prompt_user
        prompt: "Blitzkrieg slug (e.g., semantic-compression):"
        variable: slug

      - type: execute_shell
        script: |
          cd /Users/home/Desktop/syncrescendence
          claude "/project:blitzkrieg_issue %Variable%slug%"

    enabled: false  # Requires Claude Code CLI setup

---

# NOTES

## Installation Steps
1. Open Keyboard Maestro Editor
2. File → New Macro Group → "Syncrescendence"
3. Create each macro according to specifications above
4. Test macros individually before enabling
5. Adjust keyboard shortcuts to avoid conflicts

## Customization
- Modify keyboard shortcuts to match your preferences
- Adjust file paths if repository location differs
- Add app-specific availability as needed
- Extend with your own workflows

## Safety Notes
- Git commit macros disabled by default
- Test in non-critical directories first
- Keep Keyboard Maestro logs enabled for debugging
- Back up macro group before major changes

## Advanced Usage
- Chain macros together for complex workflows
- Use variables to pass data between macros
- Integrate with shell scripts for heavy processing
- Create palettes for context-specific macro sets

---

**Version**: 1.0.0
**Last Updated**: 2026-01-23
